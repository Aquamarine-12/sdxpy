---
template: slides
---

## The Problem

-   [% fixme "introduce slides" %]

---

## HTTP

-   [%g http "Hypertext Transfer Protocol (HTTP)" %] specifies
    what kinds of messages clients and servers can exchange
    and how those messages are formatted

-   Client sends a [%g http_request "request" %] as text over a socket connection

-   Server replies with a [%g http_response "response" %] (also text)

-   Requests and responses may carry (non-textual) data with them

-   *Server can respond to requests however it wants*

---

## HTTP Requests

-   A [%g http_method "method" %] such as `GET` or `POST`

-   A [%g url "URL" %]

-   A [%g http_protocol_version "protocol version" %]

[% inc file="minimal_http_request.txt" %]

---

## Headers

-   Requests may also have [%g http_header "headers" %]

[% inc file="http_request_headers.txt" %]

-   A key can appear any number of times

---

## HTTP Response

-   Protocol and version

-   A [%g http_status_code "status code" %] and phrase

-   Headers, possibly including `Content-Length` (in bytes)

-   Blank line followed by content

[% inc file="http_response.txt" %]

---

## Requests

[% inc pat="requests_example.*" fill="py out" %]

---

## HTTP Lifecycle

[% figure
   slug="server-http-lifecycle"
   img="http_lifecycle.svg"
   alt="HTTP request/response lifecycle"
   caption="Lifecycle of an HTTP request and response."
%]

---

## Basic HTTP Server

[% inc file="basic_server.py" %]

---

## Running the Server

[% inc file="basic_server.sh" %]

-   Displays nothing until we go to `http://localhost:8080` in our browser

-   Browser shows page

-   Shell shows [%g log_message "log messages" %]

[% inc file="basic_server.out" %]
